########################################
# логика проста:
# нужное - раскоментить
# не нужное - закоментить

########################################
## не безопастное подключение
http: ":80"

########################################
## Доменный сокет
# unix: "./imager.sock"

########################################
## безопастное подключение (необходима настройка сертификатов)
# https: ":443"

########################################
## Настройка сертификатов
# tls:
#   cert-file: ".../you_cert_file.pem"
#   key-file: ".../you_key_file.key"

########################################
## логирование
log-server: "server.log"
log-request: "request.log"

########################################
## режим разработки
development: false

########################################
## путь до исходников и куда сохранять результат
paths:
  source: "./example"
  result: "./example"

########################################
## Действие если исходного файла не существует
not-found:
  # Генерить прозрачный пиксель с кодом 404 (только если запрашивается картинка)
  pixel: true

  # Перенаправлять с кодом 301
  # (для всех не существующих файлов / за исключением картинок - если для них включена генерация пикселя)
  # redirect: "https://you_redirect_addr.ru"

  # Выводить страницу с кодом 404
  # (для всех не существующих файлов / за исключением картинок - если для них включена генерация пикселя)
  page: "./example/not-found.html"

  # Выводить картинку с кодом 404
  # (для всех не существующих файлов / за исключением картинок - если для них включена генерация пикселя)
  # image: "./you_image_file_not_found.png"


########################################
## Настройки кеширования
cache:
  # Директива ответа кэша
  cache-control: "public"

  # Время жизни ресурса в секундах.
  max-age: 2592000

  # Немного похоже на предыдущую, однако s здесь означает shared cache, и нужна для CDN.
  # Эта директива имеет преимущество над max-age, когда речь идёт о CDN-серверах.
  s-maxage: 10800

########################################
## Настройки разрешений
access-controll:
  allow-origin: "*"
  allow-headers: "*"
  max-age: 2592000


########################################
## Предварительная/по умолчанию настройка ресемплинга картинок
thumbs:
  default:
    privacy:
      - width
      - height
      - quality
      # - loop
      # - crop
      # - color
      # - trim-active
      # - trim-rate
      # - trim-color
    width: 0
    height: 0
    quality: 85
    loop: true
    crop: false
    # color: [255,255,255] # RGB
    # trim-active: true
    # trim-rate: 10
    # trim-color:         # []RGB - list
    #   - [255, 255, 255] # RGB
    #   - [0, 0, 0]       # RGB
